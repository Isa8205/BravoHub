<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuarkBlog</title>
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="../static/css/navbar.css">
    <link rel="stylesheet" href="../static/css/grid.css">
    <script src="../static/js/script.js"></script>

    <script>
        // Function to scroll to the top of the page
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
    
        // Show the back-to-top button when user scrolls down
        window.onscroll = function() {scrollFunction()};
    
        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.querySelector('.back-to-top').style.display = "block";
            } else {
                document.querySelector('.back-to-top').style.display = "none";
            }
        }

        document.addEventListener("DOMContentLoaded", function() {
        // Get all elements with the class "date"
        var dateElements = document.querySelectorAll(".date");

        // Loop through each date element
        dateElements.forEach(function(dateElement) {
            var dateValue = dateElement.textContent.trim();
            var parts = dateValue.split('-');

            if (parts.length === 3) {
                var year = parts[0];
                var month = parseInt(parts[1]);
                var day = parts[2];
                var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

                if (month >= 1 && month <= 12) {
                    var formattedDate = day + ', ' + months[month - 1] + ', ' + year;
                    dateElement.textContent = formattedDate;
                } else {
                    console.error("Invalid month:", month);
                }
            } else {
                console.error("Invalid date format:", dateValue);
            }
        });
    });

    </script>

    <style>
        .back-to-top {
            position: fixed;
            bottom: 10vh;
        }
    </style>
</head>
<body>
    
    <!-- Start of the navbar -->
    <div class="topnav" id="myTopnav">
        
        <div class="logo"><a href="/">Quark<b>Blog</b></a></div>
        <a href="/technology">Technology</a>
        <a href="/fashion">Fashion</a>
        <a href="/sports">sports</a>
        <a href="/politics">Politics</a>
        <a href="/other">Other</a>

        <a href="javascript:void(0)" class="icon" onclick="myFunction()">
            <span></span>
            <span></span>
            <span></span>
        </a>
        
    </div>
    <!-- End of the navbar -->

    <!-- The grid that holds the elements of the body -->
    <div class="row">

        <!-- The div to hold the first column -->
        <div class="col-3">

            <div class="container" style="background-color: dimgrey;">
                {% if session['username'] %}
                    <h4>My Profile</h4>
                    <div class="profile">
                        <a href="/account"><img src="../static/profiles/{{ session['profile'] }}" alt="Profile picture" height="150"></a>
                    </div>
                    <hr>
                    <div class="details">
                        <p>{{ session['username'] }}</p>
                        <p>Member</p>
                        <a href="/logout"><button class="btn btn-red">Log Out</button></a>
                        <a href="/upload"><button class="btn btn-orange">Upload</button></a>
                    </div>
                
                {% else %}
                    <h4>My Profile</h4>
                    <div class="profile">
                    <img src="../static/images/avatar3.png" alt="" height="150">
                    </div>
                    <hr>
                    <div class="details">
                        <p>Guest</p>
                        <p>Please log in to view your profile</p>
                        <a href="/login"><button class="btn btn-red">Login</button></a>
                        <a href="/signup"><button class="btn btn-blue">Sign up</button></a>
                    </div>
                {% endif %}
            </div>                

        </div>
        <!-- End of the first column(col-3) -->

        <!-- Start of the second column -->
        <div class="col-7">

            {% for item in page_data %}
            <div class="container-mid">
                <div class="top">
                    <img src="../static/profiles/{{ item[4] }}" alt="" height="50">
                    <div class="info">
                        <b style="display: block;">{{ item[0] }}</b>
                        <i style="display: block;" class="date">{{ item[3] }}</i>
                    </div>
                    
                </div>
                <div class="middle">
                    <h3 style="font-family: Verdana, Geneva, Tahoma, sans-serif;">{{ item[2] }}</h3>
                    <p>{{ item[1] }}</p>
                </div>
                
            </div>
            {% endfor %}

        </div>
        <!-- End of the second column(col-7) -->

        <!-- Start of the third column -->
        <div class="col-2">

            <div class="container">
                
                <h4>Coming <em>soon</em></h4>

                <p>A new version of this website will soon be out. This version is just but the first prototype and I am proud to say that it has ben a success.</p>
                <p><i><b>Life is just like a bicycle, in order to maintain balance, you have to keep moving.</b></i></p>
                <p>&hyphen; Albert Einstein</p>

                <img style="border-radius: 10px; margin-bottom:10px;" src="../static/images/sports2 (2).jpg" alt="" width="100%">
            </div> 

        </div>
        <!-- End of the third column --> 
        

    </div>
    <a href="#" class="back-to-top" onclick="scrollToTop()"><img src="../static/images/icons/arrow-up.png" alt="" height="30px"></a>
    <!-- End of the grid -->

    <!-- Start of the footer -->
    <footer>
        <div class="col-3 contacts">
            <h4>Contact Us</h4>
            <img src="../static/images/icons/whatsapp.png" alt="" height="30">
            <b>: +254768304385</b><br>
            <img src="../static/images/icons/instagram.png" alt="" height="30">
            <b>: _bravoHub</b>

        </div>
        <div class="col-4 comments">
            <h4>Comments</h4>
            <p>We do value your feedback as it allows us to make this platform better for everyone</p>
            <form action="/review" method="post">
                <label for="">Subject</label>
                <input type="text" name="subject" id="" class="form-input" placeholder="Example: User interface">
                <label for="">Description</label>
                <textarea name="description" id=""  placeholder="Write here"></textarea>
                <input type="submit" value="Send" class="btn btn-blue">
            </form>
        </div>
        <div class="col-5">
            <h4>FAQs</h4>
            <p>This is the first version of the website and it is still under development.</p>
            <p>In the event you come across a design flaw or a bug please feel free to contact us through the communicatiion channels provided. We do hope that you fully enjoy our services</p>
        </div>

    </footer>
</body>
</html>
